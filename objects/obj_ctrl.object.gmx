<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-68988</depth>
  <persistent>-1</persistent>
  <parentName>obj_ctrl_par</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>capt=0

i=1
repeat(9999)
{
global.event[i]=0
i+=1
}







global.pc_x_to=-1
global.pc_y_to=-1
global.pc_xscale_to=1



//attributes

global.game_difficulty=1//1
global.pc_experience_multiplier=1//1

global.pc_gems=0 //money

global.pc_mana_max=3
global.pc_mana=global.pc_mana_max

global.pc_experience=0
previous_exp=0
gotexp=0
bar_fully_lit=0
global.pc_level=1
global.pc_level_growth_exp_mod=-.925
global.pc_level_growth_exp_mod_5up=-1.2
global.pc_level_growth_exp_mod_10up=-1.35
global.pc_level_growth_exp_mod_15up=-1.5
global.pc_level_growth_exp_mod_20up=-1.65
global.pc_level_growth_exp_mod_30up=-1.8
global.pc_level_growth_exp_mod_40up=-1.9
global.pc_level_growth_exp_mod_50up=-2



//items

global.pc_item=""

global.item_parasol_terminal_velocity=2

global.item_staff_magickality_bonus=1

global.pc_jump_power_rainbow=7



//spells


global.pc_spell_star_speed=4
global.pc_spell_star_damage=2

//starwave
global.pc_spell_star_rolling_damage=2 //this is additional damage
global.star_rolling_timer=4
global.star_rolling_number=4
global.star_rolling_damage=1
global.star_rolling_damage_flames=.5
global.star_rolling_mana_cost=1

//flames
global.flames_damage=4 //base damage
global.flames_damage_perlevel=1
global.flames_damage_staff=1 //per level
global.flames_mana_cost=2
global.flames_hit=12 //hit value of enemies set to this number when they are hit with flames

//dash
global.dash_damage=1
global.dash_speed=16
global.dash_distance=4
global.dash_mana_cost=2
global.dash_cooldown_time=10
global.dash_damage_fire=1

//lightning
global.pc_lightning_alpha_loss=.1
global.pc_lightning_cooldown=0
global.pc_lightning_cooldown_time=6
global.lightning_mana_cost=1
global.pc_lightning_damage_increase=2
global.pc_lightning_damage=2
global.pc_lightning_damage_flames=.5
global.pc_lightning_flames_timer=45
global.pc_lightning_flames_hit=15

//aura
global.pc_aura=0
global.pc_aura_timer=60
global.pc_aura_frequency=60


//skills

global.pc_aerobatics=1
global.pc_aerobatics_jump_height_cap=10 //max additional air time you get from aerobatics. (the amount of time you can hold down the jump key and gain additional floatiness)

//I think we should maybe use agility instead of aerobatics
global.pc_agility=1

global.pc_strength=1


global.pc_magickality=1

global.pc_luck=1


global.pc_skill_advancing="magickality" //which skill PC advances when levels up. This can be changed by visiting a shrine for the skill you want.



//boomerang

global.pc_boomerang_speed_inc=.25
global.pc_boomerang_speed=8.75
global.pc_boomerang_speed_max=13
global.pc_boomerang_damage=2//2
global.pc_boomerang_damage_inc=1
global.boomerang_flame_damage=.75
global.boomerang_flame_radius=32
global.pc_boomerang=0
global.pc_boomerang_collector=0
global.pc_bangarang=0




global.pc_knockback_speed=3
global.pc_hit_flash_time=30

global.pc_image_speed=.2
global.pc_image_speed_jump=.25
global.pc_gravity=.55
global.pc_gravity_wall_slide=global.pc_gravity*.4   //.2
//how fast can you be wallsliding before you fall off
global.pc_wall_slide_max_speed=4
global.pc_wall_slide_max_speed_grab=5
global.pc_wall_kick_power=4
global.pc_friction=1
global.pc_friction_wall_jump=global.pc_friction/3   //.25
//global.pc_gravity_quickfall=1.2
global.pc_speed=3
global.pc_speed_run=4
global.pc_accel=1
global.pc_jump_power=4.5//4.5
//extra boost per step that you hold down the up key
global.pc_jump_power_add=.25
//how many steps you can hold the up key and gain extra height with jumping
global.pc_jump_power_time=10//8
global.pc_jump_power_time_inc=2 //per aerobatics level
//how many steps after falling off a platform the game allows you to jump anyway
global.pc_jump_time_forgiveness=5
//speed you must be falling to die from the impact
global.pc_fall_death_speed=16
//while tumbling
global.pc_tumble_death_speed=4
//speed you must be falling to crouch from the impact
global.pc_fall_speed_crouch1=9.5
global.pc_fall_speed_crouch2=11.5
global.pc_terminal_velocity=16



global.window_x_offset=32
global.window_y_offset=24



global.view_move_div=7






 //UNUSED
global.pc_ledge_hang_time=90 //UNUSED
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>console=""
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>game_time=0
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>no code below this point!</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>room_goto_next()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//game status

if global.pc_mana&gt;global.pc_mana_max
{
    //if game_time mod 30 =0
    //global.pc_mana-=1
global.pc_mana=global.pc_mana_max
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//deactivating instances outside the view, dealing with spawning enemies


var centerx, centery, rounded_middle, roomwidth, zone_c_size, zone_b_size, zone_a_size, zone_a1_size;
centerx=view_xview+view_wview/2
centery=view_yview+view_hview/2
roomwidth=240
rounded_middle=round((centerx)/roomwidth)*roomwidth
zone_c_size=2.5 //outside this zone, blocks are deactivated
zone_b_size=2 //outside this zone, enemies de-spawn
zone_a1_size=1.9 //outside this zone, spawners become activated
zone_a_size=1 //inside this zone, spawners create enemies
dist_from_middle=roomwidth*zone_c_size

instance_deactivate_all(1)
instance_activate_object(obj_pc)
instance_activate_object(obj_soul) //souls set to = 0 for enemies who are destroyed off screen (see code below)
instance_activate_object(obj_ctrl_par)
instance_activate_object(obj_boomerang)
instance_activate_object(obj_particle) //particles destroy themselves when off screen
var top; top=64
instance_activate_region(rounded_middle   -(dist_from_middle)      ,-top,(dist_from_middle)*2       ,room_height+top*2,1)

instance_activate_object(obj_enemy_par)
instance_activate_object(obj_vert_moving_platform_par)


//spawns enemies inside zone A
with obj_spawner
{
    if active
    {
    
        if x&gt;rounded_middle-roomwidth*zone_a_size*spawn_dist_multiplier
        and x&lt;rounded_middle+roomwidth*zone_a_size*spawn_dist_multiplier
        {
            //if position_meeting(x,y,index)=0 archaic, doesn't work. Instead, the line below is used: with obj_spawner if x=other.x and y=other.y instance_destroy()
            {
            o=instance_create(x,y,index)
            o.image_xscale=imagexscale
            o.stage_event_id=stage_event_id
            
            with obj_spawner if x=other.x and y=other.y
            instance_destroy()
            
            break
            }
        }
    
    }
    else
    {
        if x&lt;rounded_middle-roomwidth*zone_a_size
        or x&gt;rounded_middle+roomwidth*zone_a_size
        {
            active=1
        }
    }
}


//destroys enemies outside zone B
with obj_enemy_par
{
    if object_index!=obj_flail

    if x&lt;rounded_middle-roomwidth*zone_b_size
    or x&gt;rounded_middle+roomwidth*zone_b_size
    {
        aggro=0
        if object_index=obj_moller_heart
        scr_moller_reset()
        
        if destroys_off_screen
        {
            souls=0
            experience=0
            instance_destroy()
        }
    }
}
with obj_vert_moving_platform_par
{
    if x&lt;rounded_middle-roomwidth*zone_b_size
    or x&gt;rounded_middle+roomwidth*zone_b_size
    {
        aggro=0
        
        if destroys_off_screen
        {
            souls=0
            experience=0
            instance_destroy()
        }
    }
}
/*
with obj_item_par
{
    if x&lt;rounded_middle-roomwidth*zone_b_size
    or x&gt;rounded_middle+roomwidth*zone_b_size
    {
        
        if destroys_off_screen
        {
            instance_destroy()
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>game_time+=1

global.pc_lightning_cooldown-=1
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>

//leveling up

if global.pc_experience&gt;=100
{
    global.pc_level+=1
    instance_create(view_xview+view_wview/2,view_yview+view_hview-12,obj_levelup)
    global.pc_experience-=100
    
    if global.pc_skill_advancing="magickality"
    global.pc_magickality+=1
    
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>capt=150

i=1
repeat(200)
{
global.stage_event[i]=0
i+=1
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_set_color(c_black)

draw_line_width(view_xview,view_yview,view_xview,view_yview+view_hview,1)
draw_line_width(view_xview+view_wview,view_yview,view_xview+view_wview,view_yview+view_hview,1)
draw_line_width(view_xview,view_yview,view_xview+view_wview,view_yview,1)
draw_line_width(view_xview,view_yview+view_hview,view_xview+view_wview,view_yview+view_hview,1)
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_set_color(c_white)
draw_set_font(ft_score)
draw_set_valign(fa_bottom)
var adds;
adds=": "
if (round(game_time/30) mod 60)&lt;10
adds=": 0"
draw_text(view_xview+2,view_yview+view_hview,string(floor(game_time/30/60))+adds+string(round(game_time/30) mod 60)  )
draw_set_valign(fa_top)
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//experience bar


    draw_sprite_ext(spr_experience_bar,0,view_xview+64,view_yview+view_hview,100,1,0,c_white,1)
    
    
    
if global.pc_experience&gt;0
{
    draw_sprite_ext(spr_exp,0,view_xview+64,view_yview+view_hview,global.pc_experience,1,0,c_white,1)
    
}



    i=1
    repeat(9)
    {
        if i=5
        draw_sprite_ext(spr_exp_stud,1,view_xview+63+10*i,view_yview+view_hview,1,1,0,c_white,1)
        else
        draw_sprite_ext(spr_exp_stud,0,view_xview+63+10*i,view_yview+view_hview,1,1,0,c_white,1)
        
        
        i+=1
    }
    
    
    
    if gotexp&gt;0
    {
        var x1,xs;
        if bar_fully_lit=0
        {
            x1=previous_exp
            xs=global.pc_experience-previous_exp
        }
        else
        {
            x1=0
            xs=100
        }
        
        draw_sprite_ext(spr_exp,1,view_xview+64+x1,view_yview+view_hview+2,xs,3,0,c_white,gotexp/10)
        gotexp-=1
    }
    else
    {
        previous_exp=global.pc_experience
        bar_fully_lit=0
    }
    
    
    

    
    



    
    draw_set_color(c_white)
    draw_set_valign(fa_bottom)
    draw_set_font(ft_level)
    
draw_text(view_xview+64+100+4,view_yview+view_hview,string(global.pc_level))
    
    draw_set_valign(fa_top)
    
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//draw mana




var x1, y1;
x1=-2
y1=-2

if global.pc_mana&lt;6
draw_sprite(spr_manapie,min(global.pc_mana,3),view_xview+view_wview-16+x1,view_yview+view_hview-16+y1)

if global.pc_mana&gt;3
draw_sprite(spr_manapie_2,min(global.pc_mana - 3,3),view_xview+view_wview-16+x1,view_yview+view_hview-16+y1)

if global.pc_mana&gt;6
draw_sprite(spr_manapie_3,min(global.pc_mana - 6,3),view_xview+view_wview-16+x1,view_yview+view_hview-16+y1)




draw_set_halign(fa_center)
draw_set_valign(fa_center)
//
draw_set_font(ft_mana)

draw_set_color(c_black)
draw_text(view_xview+view_wview-16+1+x1,view_yview+view_hview-8+1+y1,string(global.pc_mana))
draw_set_color(c_black)
draw_text(view_xview+view_wview-16-1+x1,view_yview+view_hview-8+1+y1,string(global.pc_mana))
draw_set_color(c_white)
draw_text(view_xview+view_wview-16+x1,view_yview+view_hview-8+1+y1,string(global.pc_mana))
//
draw_set_halign(fa_left)
draw_set_valign(fa_top)



/*

var m, h, v;
m=global.pc_mana mod 4
if global.pc_mana&gt;0
if m=0
m=4

h=0
v=0

repeat(m)
{
    draw_sprite(spr_mana,0,view_xview+view_wview-16+h*8,view_yview+view_hview-16+v*8)
    h+=1
    if h&gt;=2
    {
        h=0
        v=1
    }
}





/*


//mana bar


draw_sprite(spr_mana_bar,17-(global.pc_mana*17/global.pc_mana_max),view_xview+view_wview,view_yview+view_hview)



/*




if global.pc_mana&gt;0
{
    draw_sprite(spr_soul,min(global.pc_mana-1,9),view_xview+view_wview-8,view_yview+view_hview-8)
}

if global.pc_mana&gt;10
{
    draw_sprite(spr_soul_purple,min(global.pc_mana-11,9),view_xview+view_wview-8,view_yview+view_hview-8)
}

if global.pc_mana&gt;20
{
    draw_sprite(spr_soul,min(global.pc_mana-21,9),view_xview+view_wview-8,view_yview+view_hview-8)
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>capt-=1
if capt&gt;0
{
    
    draw_set_alpha(min(capt/10,10))
    draw_set_font(ft_caption)
    
    draw_set_color(c_black)
    draw_text(view_xview+2,view_yview+2,string(room_caption))
    draw_set_color(c_white)
    draw_text(view_xview+1,view_yview+1,string(room_caption))
    
    draw_set_alpha(1)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="89">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>console=get_string("Console",console)
execute_string(console)
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
